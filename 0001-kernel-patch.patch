From a786006a0c37022860a118ce5ed8108bb6a3d66e Mon Sep 17 00:00:00 2001
From: lhn1989 <lhn1989@users.noreply.github.com>
Date: Thu, 2 Jun 2022 18:41:11 +0800
Subject: [PATCH] kernel patch

---
 target/linux/rockchip/armv8/config-5.15 | 71 +++++++------------------
 1 file changed, 19 insertions(+), 52 deletions(-)

diff --git a/target/linux/rockchip/armv8/config-5.15 b/target/linux/rockchip/armv8/config-5.15
index e9d35111d..332a06e0b 100644
--- a/target/linux/rockchip/armv8/config-5.15
+++ b/target/linux/rockchip/armv8/config-5.15
@@ -1,6 +1,5 @@
 CONFIG_64BIT=y
 CONFIG_AF_UNIX_OOB=y
-# CONFIG_ARCH_BCM4908 is not set
 CONFIG_ARCH_DMA_ADDR_T_64BIT=y
 CONFIG_ARCH_HIBERNATION_POSSIBLE=y
 CONFIG_ARCH_KEEP_MEMBLOCK=y
@@ -21,9 +20,6 @@ CONFIG_ARM64=y
 CONFIG_ARM64_4K_PAGES=y
 CONFIG_ARM64_CNP=y
 CONFIG_ARM64_EPAN=y
-# CONFIG_ARM64_ERRATUM_1165522 is not set
-# CONFIG_ARM64_ERRATUM_1286807 is not set
-# CONFIG_ARM64_ERRATUM_1418040 is not set
 CONFIG_ARM64_ERRATUM_819472=y
 CONFIG_ARM64_ERRATUM_824069=y
 CONFIG_ARM64_ERRATUM_826319=y
@@ -55,7 +51,6 @@ CONFIG_ARM_ARCH_TIMER=y
 CONFIG_ARM_ARCH_TIMER_EVTSTREAM=y
 CONFIG_ARM_ARCH_TIMER_OOL_WORKAROUND=y
 CONFIG_ARM_CPUIDLE=y
-# CONFIG_ARM_FFA_TRANSPORT is not set
 CONFIG_ARM_GIC=y
 CONFIG_ARM_GIC_V2M=y
 CONFIG_ARM_GIC_V3=y
@@ -80,7 +75,6 @@ CONFIG_AUDIT_ARCH_COMPAT_GENERIC=y
 CONFIG_BACKLIGHT_CLASS_DEVICE=y
 CONFIG_BACKLIGHT_GPIO=y
 CONFIG_BACKLIGHT_PWM=y
-# CONFIG_BCM_VK is not set
 CONFIG_BINARY_PRINTF=y
 CONFIG_BLK_DEV_BSG=y
 CONFIG_BLK_DEV_BSGLIB=y
@@ -96,10 +90,8 @@ CONFIG_BLK_MQ_PCI=y
 CONFIG_BLK_PM=y
 CONFIG_BLOCK_COMPAT=y
 CONFIG_BRCMSTB_GISB_ARB=y
-# CONFIG_BRIDGE_CFM is not set
 CONFIG_BSD_PROCESS_ACCT=y
 CONFIG_BSD_PROCESS_ACCT_V3=y
-CONFIG_CC_HAVE_STACKPROTECTOR_SYSREG=y
 CONFIG_CHARGER_GPIO=y
 CONFIG_CLKSRC_MMIO=y
 CONFIG_CLK_PX30=y
@@ -112,7 +104,6 @@ CONFIG_CLONE_BACKWARDS=y
 CONFIG_CMA=y
 CONFIG_CMA_ALIGNMENT=8
 CONFIG_CMA_AREAS=7
-# CONFIG_CAVIUM_TX2_ERRATUM_219 is not set
 # CONFIG_CMA_DEBUG is not set
 # CONFIG_CMA_DEBUGFS is not set
 CONFIG_CMA_SIZE_MBYTES=5
@@ -122,7 +113,6 @@ CONFIG_CMA_SIZE_SEL_MBYTES=y
 # CONFIG_CMA_SIZE_SEL_PERCENTAGE is not set
 # CONFIG_CMA_SYSFS is not set
 CONFIG_COMMON_CLK=y
-# CONFIG_COMMON_CLK_AXI_CLKGEN is not set
 CONFIG_COMMON_CLK_RK808=y
 CONFIG_COMMON_CLK_ROCKCHIP=y
 CONFIG_COMMON_CLK_SCPI=y
@@ -137,9 +127,10 @@ CONFIG_CONTIG_ALLOC=y
 CONFIG_CPUFREQ_DT=y
 CONFIG_CPUFREQ_DT_PLATDEV=y
 CONFIG_CPU_FREQ=y
-# CONFIG_CPU_FREQ_DEFAULT_GOV_PERFORMANCE is not set
 CONFIG_CPU_FREQ_DEFAULT_GOV_ONDEMAND=y
+# CONFIG_CPU_FREQ_DEFAULT_GOV_PERFORMANCE is not set
 CONFIG_CPU_FREQ_GOV_ATTR_SET=y
+CONFIG_CPU_FREQ_GOV_COMMON=y
 # CONFIG_CPU_FREQ_GOV_CONSERVATIVE is not set
 CONFIG_CPU_FREQ_GOV_ONDEMAND=y
 CONFIG_CPU_FREQ_GOV_PERFORMANCE=y
@@ -164,14 +155,10 @@ CONFIG_CROSS_MEMORY_ATTACH=y
 CONFIG_CRYPTO_CRC32=y
 CONFIG_CRYPTO_CRC32C=y
 CONFIG_CRYPTO_CRCT10DIF=y
-CONFIG_CRYPTO_GF128MUL=y
-CONFIG_CRYPTO_LIB_SHA256=y
-CONFIG_CRYPTO_NULL2=y
 CONFIG_CRYPTO_RNG2=y
-# CONFIG_CXL_BUS is not set
 CONFIG_DCACHE_WORD_ACCESS=y
 CONFIG_DEBUG_BUGVERBOSE=y
-# CONFIG_DEBUG_IRQFLAGS is not set
+CONFIG_DEVFREQ_EVENT_ROCKCHIP_DFI=y
 # CONFIG_DEVFREQ_GOV_PASSIVE is not set
 CONFIG_DEVFREQ_GOV_PERFORMANCE=y
 CONFIG_DEVFREQ_GOV_POWERSAVE=y
@@ -182,19 +169,24 @@ CONFIG_DEVMEM=y
 # CONFIG_DEVPORT is not set
 CONFIG_DEVTMPFS=y
 CONFIG_DEVTMPFS_MOUNT=y
-# CONFIG_DMABUF_DEBUG is not set
-# CONFIG_DMABUF_SYSFS_STATS is not set
 CONFIG_DMADEVICES=y
 CONFIG_DMA_CMA=y
 CONFIG_DMA_DIRECT_REMAP=y
 CONFIG_DMA_ENGINE=y
-# CONFIG_DMA_MAP_BENCHMARK is not set
 CONFIG_DMA_OF=y
 CONFIG_DMA_OPS=y
 CONFIG_DMA_REMAP=y
-# CONFIG_DMA_RESTRICTED_POOL is not set
 CONFIG_DMA_SHARED_BUFFER=y
 CONFIG_DNOTIFY=y
+CONFIG_DRM=y
+CONFIG_DRM_BRIDGE=y
+CONFIG_DRM_GEM_SHMEM_HELPER=y
+CONFIG_DRM_PANEL=y
+CONFIG_DRM_PANEL_BRIDGE=y
+CONFIG_DRM_PANEL_ORIENTATION_QUIRKS=y
+CONFIG_DRM_PANFROST=y
+# CONFIG_DRM_ROCKCHIP is not set
+CONFIG_DRM_SCHED=y
 CONFIG_DTC=y
 CONFIG_DT_IDLE_STATES=y
 CONFIG_DUMMY_CONSOLE=y
@@ -208,14 +200,13 @@ CONFIG_ENERGY_MODEL=y
 CONFIG_EXT4_FS=y
 CONFIG_EXT4_FS_POSIX_ACL=y
 CONFIG_EXTCON=y
-# CONFIG_EXTCON_USBC_TUSB320 is not set
 CONFIG_F2FS_FS=y
 CONFIG_FANOTIFY=y
+CONFIG_FB_CMDLINE=y
 CONFIG_FHANDLE=y
 CONFIG_FIXED_PHY=y
 CONFIG_FIX_EARLYCON_MEM=y
 # CONFIG_FORTIFY_SOURCE is not set
-# CONFIG_FUJITSU_ERRATUM_010001 is not set
 CONFIG_FRAME_POINTER=y
 CONFIG_FRAME_WARN=2048
 CONFIG_FS_IOMAP=y
@@ -259,13 +250,13 @@ CONFIG_GPIO_DWAPB=y
 CONFIG_GPIO_GENERIC=y
 CONFIG_GPIO_GENERIC_PLATFORM=y
 CONFIG_GPIO_ROCKCHIP=y
-# CONFIG_GUP_TEST is not set
 CONFIG_HANDLE_DOMAIN_IRQ=y
 # CONFIG_HARDENED_USERCOPY is not set
 CONFIG_HARDIRQS_SW_RESEND=y
 CONFIG_HAS_DMA=y
 CONFIG_HAS_IOMEM=y
 CONFIG_HAS_IOPORT_MAP=y
+CONFIG_HDMI=y
 CONFIG_HID=y
 CONFIG_HID_GENERIC=y
 CONFIG_HOTPLUG_CPU=y
@@ -282,6 +273,7 @@ CONFIG_HZ=250
 # CONFIG_HZ_100 is not set
 CONFIG_HZ_250=y
 CONFIG_I2C=y
+CONFIG_I2C_ALGOBIT=y
 CONFIG_I2C_BOARDINFO=y
 CONFIG_I2C_CHARDEV=y
 CONFIG_I2C_COMPAT=y
@@ -321,10 +313,9 @@ CONFIG_JBD2=y
 CONFIG_JFFS2_ZLIB=y
 CONFIG_JUMP_LABEL=y
 CONFIG_KALLSYMS=y
+CONFIG_KCMP=y
 CONFIG_KEXEC_CORE=y
 CONFIG_KEXEC_FILE=y
-# CONFIG_KEXEC_SIG is not set
-# CONFIG_KFENCE is not set
 CONFIG_KSM=y
 # CONFIG_LEDS_BRIGHTNESS_HW_CHANGED is not set
 CONFIG_LEDS_GPIO=y
@@ -332,13 +323,10 @@ CONFIG_LEDS_PWM=y
 CONFIG_LEDS_SYSCON=y
 CONFIG_LEDS_TRIGGER_CPU=y
 CONFIG_LEDS_TRIGGER_PANIC=y
-# CONFIG_LEDS_TRIGGER_TTY is not set
 CONFIG_LEGACY_PTYS=y
 CONFIG_LEGACY_PTY_COUNT=16
 CONFIG_LIBCRC32C=y
 CONFIG_LIBFDT=y
-# CONFIG_LITEX_SOC_CONTROLLER is not set
-CONFIG_LLD_VERSION=0
 CONFIG_LOCALVERSION_AUTO=y
 CONFIG_LOCK_DEBUGGING_SUPPORT=y
 CONFIG_LOCK_SPIN_ON_OWNER=y
@@ -357,7 +345,6 @@ CONFIG_MDIO_DEVRES=y
 CONFIG_MEMFD_CREATE=y
 CONFIG_MEMORY_ISOLATION=y
 CONFIG_MFD_CORE=y
-# CONFIG_MFD_INTEL_PMT is not set
 # CONFIG_MFD_KHADAS_MCU is not set
 CONFIG_MFD_RK808=y
 CONFIG_MFD_SYSCON=y
@@ -384,11 +371,7 @@ CONFIG_MQ_IOSCHED_DEADLINE=y
 # CONFIG_MTD_CFI is not set
 CONFIG_MTD_CMDLINE_PARTS=y
 # CONFIG_MTD_COMPLEX_MAPPINGS is not set
-# CONFIG_MTD_NAND_ECC_SW_HAMMING is not set
 CONFIG_MTD_SPI_NOR=y
-# CONFIG_MTD_SPI_NOR_SWP_DISABLE is not set
-CONFIG_MTD_SPI_NOR_SWP_DISABLE_ON_VOLATILE=y
-# CONFIG_MTD_SPI_NOR_SWP_KEEP is not set
 CONFIG_MTD_SPI_NOR_USE_4K_SECTORS=y
 CONFIG_MTD_SPLIT_FIRMWARE=y
 CONFIG_MUTEX_SPIN_ON_OWNER=y
@@ -403,9 +386,7 @@ CONFIG_NOP_USB_XCEIV=y
 CONFIG_NO_HZ_COMMON=y
 CONFIG_NO_HZ_IDLE=y
 CONFIG_NR_CPUS=256
-# CONFIG_NVIDIA_CARMEL_CNP_ERRATUM is not set
 CONFIG_NVMEM=y
-# CONFIG_NVMEM_RMEM is not set
 CONFIG_NVMEM_SYSFS=y
 CONFIG_NVME_CORE=y
 # CONFIG_NVME_HWMON is not set
@@ -420,7 +401,6 @@ CONFIG_OF_IOMMU=y
 CONFIG_OF_IRQ=y
 CONFIG_OF_KOBJ=y
 CONFIG_OF_MDIO=y
-CONFIG_OF_NET=y
 CONFIG_OF_OVERLAY=y
 CONFIG_OF_RESOLVE=y
 CONFIG_OLD_SIGSUSPEND3=y
@@ -442,7 +422,6 @@ CONFIG_PCIEASPM_DEFAULT=y
 CONFIG_PCIEPORTBUS=y
 CONFIG_PCIE_DW=y
 CONFIG_PCIE_DW_HOST=y
-# CONFIG_PCIE_MICROCHIP_HOST is not set
 CONFIG_PCIE_PME=y
 CONFIG_PCIE_ROCKCHIP=y
 CONFIG_PCIE_ROCKCHIP_DW_HOST=y
@@ -468,7 +447,6 @@ CONFIG_PHY_ROCKCHIP_PCIE=y
 CONFIG_PHY_ROCKCHIP_TYPEC=y
 CONFIG_PHY_ROCKCHIP_USB=y
 CONFIG_PINCTRL=y
-# CONFIG_PINCTRL_MICROCHIP_SGPIO is not set
 # CONFIG_PINCTRL_RK805 is not set
 CONFIG_PINCTRL_ROCKCHIP=y
 # CONFIG_PINCTRL_SINGLE is not set
@@ -477,7 +455,7 @@ CONFIG_PLATFORM_MHU=y
 CONFIG_PM=y
 CONFIG_PM_CLK=y
 CONFIG_PM_DEVFREQ=y
-# CONFIG_PM_DEVFREQ_EVENT is not set
+CONFIG_PM_DEVFREQ_EVENT=y
 CONFIG_PM_GENERIC_DOMAINS=y
 CONFIG_PM_GENERIC_DOMAINS_OF=y
 CONFIG_PM_OPP=y
@@ -495,10 +473,9 @@ CONFIG_PROC_PAGE_MONITOR=y
 CONFIG_PROC_VMCORE=y
 CONFIG_PTP_1588_CLOCK_OPTIONAL=y
 CONFIG_PWM=y
-# CONFIG_PWM_ATMEL_TCB is not set
-# CONFIG_PWM_DWC is not set
 CONFIG_PWM_ROCKCHIP=y
 CONFIG_PWM_SYSFS=y
+# CONFIG_QCOM_QMI_HELPERS is not set
 # CONFIG_QFMT_V1 is not set
 # CONFIG_QFMT_V2 is not set
 CONFIG_QUEUED_RWLOCKS=y
@@ -519,14 +496,11 @@ CONFIG_REGMAP_I2C=y
 CONFIG_REGMAP_IRQ=y
 CONFIG_REGMAP_MMIO=y
 CONFIG_REGULATOR=y
-# CONFIG_REGULATOR_DA9121 is not set
 CONFIG_REGULATOR_FAN53555=y
 CONFIG_REGULATOR_FIXED_VOLTAGE=y
 CONFIG_REGULATOR_GPIO=y
-# CONFIG_REGULATOR_PF8X00 is not set
 CONFIG_REGULATOR_PWM=y
 CONFIG_REGULATOR_RK808=y
-# CONFIG_REGULATOR_RTQ6752 is not set
 CONFIG_RELOCATABLE=y
 CONFIG_RESET_CONTROLLER=y
 CONFIG_RFS_ACCEL=y
@@ -558,13 +532,7 @@ CONFIG_SCSI_SAS_ATTRS=y
 CONFIG_SCSI_SAS_HOST_SMP=y
 CONFIG_SCSI_SAS_LIBSAS=y
 # CONFIG_SECURITY_DMESG_RESTRICT is not set
-# CONFIG_SENSORS_AHT10 is not set
-# CONFIG_SENSORS_AQUACOMPUTER_D5NEXT is not set
 CONFIG_SENSORS_ARM_SCPI=y
-# CONFIG_SENSORS_LTC2992 is not set
-# CONFIG_SENSORS_MAX127 is not set
-# CONFIG_SENSORS_SBTSI is not set
-# CONFIG_SENSORS_TPS23861 is not set
 CONFIG_SERIAL_8250_DEPRECATED_OPTIONS=y
 CONFIG_SERIAL_8250_DW=y
 CONFIG_SERIAL_8250_DWLIB=y
@@ -585,6 +553,7 @@ CONFIG_SERIO=y
 CONFIG_SERIO_AMBAKMI=y
 CONFIG_SERIO_LIBPS2=y
 CONFIG_SG_POOL=y
+# CONFIG_SHORTCUT_FE is not set
 CONFIG_SLUB_DEBUG=y
 CONFIG_SMP=y
 CONFIG_SOCK_RX_QUEUE_MAPPING=y
@@ -609,7 +578,6 @@ CONFIG_SQUASHFS_FILE_CACHE=y
 CONFIG_SRAM=y
 CONFIG_SRCU=y
 CONFIG_STACKPROTECTOR=y
-CONFIG_STACKPROTECTOR_PER_TASK=y
 CONFIG_STACKPROTECTOR_STRONG=y
 CONFIG_STACKTRACE=y
 # CONFIG_STAGING is not set
@@ -659,7 +627,6 @@ CONFIG_TYPEC_TCPM=y
 CONFIG_UNINLINE_SPIN_UNLOCK=y
 CONFIG_UNMAP_KERNEL_AT_EL0=y
 CONFIG_USB=y
-# CONFIG_USB_CDNS_SUPPORT is not set
 CONFIG_USB_COMMON=y
 CONFIG_USB_DWC3=y
 CONFIG_USB_DWC3_HOST=y
-- 
2.36.1

